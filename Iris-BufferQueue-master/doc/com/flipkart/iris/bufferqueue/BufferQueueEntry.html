<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Fri Jun 19 00:21:54 IST 2015 -->
<title>BufferQueueEntry</title>
<meta name="date" content="2015-06-19">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BufferQueueEntry";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BufferQueueEntry.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntryTest.html" title="class in com.flipkart.iris.bufferqueue"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/flipkart/iris/bufferqueue/BufferQueueEntry.html" target="_top">Frames</a></li>
<li><a href="BufferQueueEntry.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.flipkart.iris.bufferqueue</div>
<h2 title="Class BufferQueueEntry" class="title">Class BufferQueueEntry</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.flipkart.iris.bufferqueue.BufferQueueEntry</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/concurrent.NotThreadSafe.html?is-external=true" title="class or interface in javax.annotation">@NotThreadSafe</a>
public class <span class="strong">BufferQueueEntry</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Represents an entry in a <code>BufferQueue</code>. <br/><br/>

 A <code>BufferQueueEntry</code> is in one of three states:

 <ol>
     <li>Claimed, but not yet published.</li>
     <li>Published, but not yet consumed.</li>
     <li>Consumed, can be claimed again.</li>
 </ol>

 This class is NOT thread-safe, if entry objects are shared
 across threads, access must be synchronized.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#buf">buf</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static com.google.common.hash.HashFunction</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#checksum">checksum</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#CHECKSUM_BYTES">CHECKSUM_BYTES</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#cursor">cursor</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#CURSOR_CONSUMED">CURSOR_CONSUMED</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#CURSOR_UNPUBLISHED">CURSOR_UNPUBLISHED</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#OFFSET_CHECKSUM">OFFSET_CHECKSUM</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#OFFSET_CURSOR">OFFSET_CURSOR</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#OFFSET_DATA">OFFSET_DATA</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#OFFSET_LENGTH">OFFSET_LENGTH</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#BufferQueueEntry(java.nio.ByteBuffer)">BufferQueueEntry</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;buf)</code>
<div class="block">To be used for entries that are "Published, but not yet consumed".</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#BufferQueueEntry(java.nio.ByteBuffer,%20long)">BufferQueueEntry</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;buf,
                long&nbsp;cursor)</code>
<div class="block">To be used when claiming a new entry.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#calculateEntryLength(int)">calculateEntryLength</a></strong>(int&nbsp;messageDataLength)</code>
<div class="block">Given message data length to be be written, calculate the size of the byte buffer that must be used for
 creating an entry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#dataLength()">dataLength</a></strong>()</code>
<div class="block">Get the length of the data in this entry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#get()">get</a></strong>()</code>
<div class="block">Get the data published to this entry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#isConsumed()">isConsumed</a></strong>()</code>
<div class="block">Check if the entry is marked as consumed or not.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#isPublished()">isPublished</a></strong>()</code>
<div class="block">Check if the entry is marked as published or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#markConsumed()">markConsumed</a></strong>()</code>
<div class="block">Mark this entry as published.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#markPublished()">markPublished</a></strong>()</code>
<div class="block">Mark this entry as published.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#maxDataLength()">maxDataLength</a></strong>()</code>
<div class="block">Get the max length of data that can be written to this entry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#readCursor()">readCursor</a></strong>()</code>
<div class="block">Get the cursor value written in the backing buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#set(byte[])">set</a></strong>(byte[]&nbsp;data)</code>
<div class="block">Set the data of the entry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#writeCursor(long)">writeCursor</a></strong>(long&nbsp;cursor)</code>
<div class="block">Write the cursor value to the backing buffer.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="checksum">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checksum</h4>
<pre>private static final&nbsp;com.google.common.hash.HashFunction checksum</pre>
</li>
</ul>
<a name="CHECKSUM_BYTES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHECKSUM_BYTES</h4>
<pre>private static final&nbsp;int CHECKSUM_BYTES</pre>
</li>
</ul>
<a name="OFFSET_CURSOR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OFFSET_CURSOR</h4>
<pre>static final&nbsp;int OFFSET_CURSOR</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.flipkart.iris.bufferqueue.BufferQueueEntry.OFFSET_CURSOR">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="OFFSET_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OFFSET_LENGTH</h4>
<pre>static final&nbsp;int OFFSET_LENGTH</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.flipkart.iris.bufferqueue.BufferQueueEntry.OFFSET_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="OFFSET_CHECKSUM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OFFSET_CHECKSUM</h4>
<pre>static final&nbsp;int OFFSET_CHECKSUM</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.flipkart.iris.bufferqueue.BufferQueueEntry.OFFSET_CHECKSUM">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="OFFSET_DATA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OFFSET_DATA</h4>
<pre>static final&nbsp;int OFFSET_DATA</pre>
</li>
</ul>
<a name="CURSOR_UNPUBLISHED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CURSOR_UNPUBLISHED</h4>
<pre>private static final&nbsp;long CURSOR_UNPUBLISHED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.flipkart.iris.bufferqueue.BufferQueueEntry.CURSOR_UNPUBLISHED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CURSOR_CONSUMED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CURSOR_CONSUMED</h4>
<pre>private static final&nbsp;long CURSOR_CONSUMED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.flipkart.iris.bufferqueue.BufferQueueEntry.CURSOR_CONSUMED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="buf">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buf</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a> buf</pre>
</li>
</ul>
<a name="cursor">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cursor</h4>
<pre>long cursor</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BufferQueueEntry(java.nio.ByteBuffer, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BufferQueueEntry</h4>
<pre>public&nbsp;BufferQueueEntry(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;buf,
                long&nbsp;cursor)</pre>
<div class="block">To be used when claiming a new entry. The returned entity will be "Claimed, but not yet published". <br/><br/>

 The argument <code>buf</code> will be used as the backing <code>ByteBuffer</code> for this entry.
 The argument <code>cursor</code> will be set as the cursor for this entry but it won't be written into
 <code>buf</code> until the entry is marked as published (after data is written to it). <br/><br/>

 This constructor is part of the internal API and shouldn't be used by clients.
 Instead, clients should get instances of <code>BufferQueueEntry</code>s from implementations of
 <a href="../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue"><code>BufferQueue</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>buf</code> - The <code>ByteBuffer</code> representing an entry.</dd><dd><code>cursor</code> - The cursor for this entry.</dd></dl>
</li>
</ul>
<a name="BufferQueueEntry(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BufferQueueEntry</h4>
<pre>public&nbsp;BufferQueueEntry(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;buf)</pre>
<div class="block">To be used for entries that are "Published, but not yet consumed". <br/><br/>

 The argument <code>buf</code> must thus represent such an entry.
 The entry's <code>cursor</code> will be read from the buf. <br/><br/>

 This constructor is part of the internal API and shouldn't be used by clients.
 Instead, clients should get instances of <code>BufferQueueEntry</code>s from implementations of
 <a href="../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue"><code>BufferQueue</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>buf</code> - The <code>ByteBuffer</code> representing an entry.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If <code>buf</code> does not represent a "Published, but not yet consumed" entry.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="set(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>set</h4>
<pre>public&nbsp;void&nbsp;set(byte[]&nbsp;data)
         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/BufferOverflowException.html?is-external=true" title="class or interface in java.nio">BufferOverflowException</a></pre>
<div class="block">Set the data of the entry. <b>Important</b>: The entry will not be marked as published after the data is set.
 This must be done explicitly by calling <a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#markPublished()"><code>markPublished()</code></a>. <br/><br/>

 It is recommended that this method be called in a try block followed by a finally block where the entry is marked
 as published; the entry must be marked as published even if writing data to the entry failed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - The data to set.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/BufferOverflowException.html?is-external=true" title="class or interface in java.nio">BufferOverflowException</a></code> - If the length of data is greater than what the entry can hold.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this entry is already published.</dd></dl>
</li>
</ul>
<a name="markPublished()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markPublished</h4>
<pre>public&nbsp;void&nbsp;markPublished()</pre>
<div class="block">Mark this entry as published. <br/><br/>

 Once an entry is marked as published, it cannot be written to. It is important to mark every entry that is claimed
 as published because otherwise the entire buffer queue consumption is stalled when it reaches this entry.

 See <a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#set(byte[])"><code>set(byte[])</code></a> for best practices around how to call this method.</div>
</li>
</ul>
<a name="isPublished()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPublished</h4>
<pre>public&nbsp;boolean&nbsp;isPublished()</pre>
<div class="block">Check if the entry is marked as published or not.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the entry is marked as published, <code>false</code> otherwise.</dd></dl>
</li>
</ul>
<a name="dataLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataLength</h4>
<pre>public&nbsp;int&nbsp;dataLength()</pre>
<div class="block">Get the length of the data in this entry.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Length of data if this entry is published, -1 otherwise.</dd></dl>
</li>
</ul>
<a name="maxDataLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxDataLength</h4>
<pre>public&nbsp;int&nbsp;maxDataLength()</pre>
<div class="block">Get the max length of data that can be written to this entry. <br/><br/>

 Trying to write more than this amount of data will lead to a <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/BufferOverflowException.html?is-external=true" title="class or interface in java.nio"><code>BufferOverflowException</code></a>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The max length of data that can be written to this entry.</dd></dl>
</li>
</ul>
<a name="get()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;byte[]&nbsp;get()</pre>
<div class="block">Get the data published to this entry. <b>Important</b>: The entry will not be marked as consumed after the data
 read. This must be done explicitly by calling <a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#markConsumed()"><code>markConsumed()</code></a>. <br/><br/>

 It is recommended that this method be called in a try block followed by a finally block where the entry is marked
 as consumed; the entry must be marked as consumed even if processing the data failed.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The data published to this buffer, empty byte array if nothing is published.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If the entry has already been marked as consumed.</dd></dl>
</li>
</ul>
<a name="markConsumed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markConsumed</h4>
<pre>public&nbsp;void&nbsp;markConsumed()</pre>
<div class="block">Mark this entry as published. <br/><br/>

 Once an entry is marked as consumed, it cannot be read from. It is important to mark every entry that is obtained
 as consumed because otherwise the entire buffer queue consumption is stalled.

 See <a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#get()"><code>get()</code></a> for best practices around how to call this method.</div>
</li>
</ul>
<a name="isConsumed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConsumed</h4>
<pre>public&nbsp;boolean&nbsp;isConsumed()</pre>
<div class="block">Check if the entry is marked as consumed or not.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the entry is marked as consumed, <code>false</code> otherwise.</dd></dl>
</li>
</ul>
<a name="readCursor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readCursor</h4>
<pre>long&nbsp;readCursor()</pre>
<div class="block">Get the cursor value written in the backing buffer.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The cursor value.</dd></dl>
</li>
</ul>
<a name="writeCursor(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCursor</h4>
<pre>void&nbsp;writeCursor(long&nbsp;cursor)</pre>
<div class="block">Write the cursor value to the backing buffer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cursor</code> - The cursor value to write.</dd></dl>
</li>
</ul>
<a name="calculateEntryLength(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>calculateEntryLength</h4>
<pre>public static&nbsp;int&nbsp;calculateEntryLength(int&nbsp;messageDataLength)</pre>
<div class="block">Given message data length to be be written, calculate the size of the byte buffer that must be used for
 creating an entry. <br/><br/>

 Intended as a helper method to be used by BufferQueue implementations.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>messageDataLength</code> - The length of data based on which buffer queue entry length must be computed.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The computed length of buffer to be used to create the entry.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BufferQueueEntry.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/flipkart/iris/bufferqueue/BufferQueueEntryTest.html" title="class in com.flipkart.iris.bufferqueue"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/flipkart/iris/bufferqueue/BufferQueueEntry.html" target="_top">Frames</a></li>
<li><a href="BufferQueueEntry.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
